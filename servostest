# Import libraries
import RPi.GPIO as GPIO
import time

# Use GPIO numbering
GPIO.setmode(GPIO.BOARD)

# Define GPIO pins for the servos
SERVO_X_PIN = 4   # Pin for X-axis servo
SERVO_Y_PIN = 13  # Pin for Y-axis servo

# Set up GPIO pins as output
GPIO.setup(SERVO_X_PIN, GPIO.OUT)
GPIO.setup(SERVO_Y_PIN, GPIO.OUT)

# Initialize PWM on each servo pin at 50Hz
servo_x = GPIO.PWM(SERVO_X_PIN, 50)  # X-axis servo
servo_y = GPIO.PWM(SERVO_Y_PIN, 50)  # Y-axis servo

# Start both servos at the neutral position (7.5%)
servo_x.start(7.5)
servo_y.start(7.5)

try:
    while True:
        # Move both servos to one extreme
        servo_x.ChangeDutyCycle(12.5)  # Max position for X-axis servo
        servo_y.ChangeDutyCycle(12.5)  # Max position for Y-axis servo
        time.sleep(1)

        # Move both servos back to the neutral position
        servo_x.ChangeDutyCycle(7.5)  # Neutral position for X-axis servo
        servo_y.ChangeDutyCycle(7.5)  # Neutral position for Y-axis servo
        time.sleep(1)

        # Move both servos to the other extreme
        servo_x.ChangeDutyCycle(2.5)  # Min position for X-axis servo
        servo_y.ChangeDutyCycle(2.5)  # Min position for Y-axis servo
        time.sleep(1)

        # Move both servos back to the neutral position
        servo_x.ChangeDutyCycle(7.5)  # Neutral position for X-axis servo
        servo_y.ChangeDutyCycle(7.5)  # Neutral position for Y-axis servo
        time.sleep(1)

except KeyboardInterrupt:
    # Stop the PWM and clean up GPIO settings
    servo_x.stop()
    servo_y.stop()
    GPIO.cleanup()
